<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.edu.tit.idao.IAdminDao">

	<!--增加管理员信息 <insert id="addAdmin" parameterType="cn.edu.tit.bean.Admin"> 
		insert into admin(adminId,adminUsername,adminPassword) values (#{adminId},#{adminUsername},#{adminPassword}); 
		</insert> -->

	<resultMap type="cn.edu.tit.bean.Admin" id="adminMap">
		<id column="employee_num" property="adminId" />
		<result column="teacher_password" property="adminPassword" />
		<result column="teacher_name" property="adminUsername" />
	</resultMap>

	<!--读取教师信息，只查询三列数据 -->
	<select id="readAdmin" resultMap="adminMap">
		select
		employee_num,teacher_password,teacher_name from teacher;
	</select>

	<!-- 增加管理员信息 -->
	<insert id="addAdmin">
		insert into admin (adminPassword, adminUsername) values
		<foreach item="admin" collection="list" separator=",">
			(#{admin.adminPassword},#{admin.adminUsername})
		</foreach>
	</insert>

	<resultMap type="cn.edu.tit.bean.Category" id="categoryMap">
		<id column="category_id" property="categoryId" />
		<result column="category_name" property="categoryName" />
		<result column="category_detail" property="categoryDetail" />
	</resultMap>
	
	<!-- 初始化系部信息 -->
	<insert id="initializeCategory">
		insert into category (category_id,category_name,category_detail) values
		<foreach item="categories" collection="list" separator=",">
			(#{categories.categoryId},#{categories.categoryName},#{categories.categoryDetail})
		</foreach>
	</insert>
</mapper>